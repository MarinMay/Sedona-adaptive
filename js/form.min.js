var form=document.querySelector(".form-review"),thisname=document.querySelector("[name=name]"),surname=document.querySelector("[name=surname]"),phone=document.querySelector("[name=phone]"),email=document.querySelector("[name=email]"),thisnameStorage=localStorage.getItem("thisname"),surnameStorage=localStorage.getItem("surname"),phoneStorage=localStorage.getItem("phone"),emailStorage=localStorage.getItem("email"),buttonSubmit=document.querySelector(".form-review__button"),popupError=document.querySelector(".pop-up--error"),buttonError=document.querySelector(".pop-up--error .pop-up__button"),popupSusses=document.querySelector(".pop-up--susses"),buttonSusses=document.querySelector(".pop-up--susses .pop-up__button");function closeModalError(){thisname.classList.remove("name__input--error"),surname.classList.remove("name__input--error"),phone.classList.remove("user-contact__input--error"),email.classList.remove("user-contact__input--error"),popupError.classList.remove("pop-up--show")}window.onload=function(){(thisnameStorage||surnameStorage||phoneStorage||emailStorage)&&(thisname.value=thisnameStorage,surname.value=surnameStorage,phone.value=phoneStorage,email.value=emailStorage)},buttonSubmit.addEventListener("click",function(e){e.preventDefault(),thisname.value||thisname.classList.add("name__input--error"),surname.value||surname.classList.add("name__input--error"),phone.value||phone.classList.add("user-contact__input--error"),email.value&&email.checkValidity()||email.classList.add("user-contact__input--error"),thisname.value&&surname.value&&phone.value&&email.value&&email.checkValidity()?popupSusses.classList.add("pop-up--show"):(popupError.classList.add("pop-up--show"),window.scroll(0,600))}),buttonError.addEventListener("click",function(e){e.preventDefault(),closeModalError()}),buttonSusses.addEventListener("click",function(e){e.preventDefault(),popupSusses.classList.remove("pop-up--show"),form.submit(),localStorage.setItem("thisname",thisname.value),localStorage.setItem("surname",surname.value),localStorage.setItem("phone",phone.value),localStorage.setItem("email",email.value)}),window.addEventListener("keydown",function(e){27===e.keyCode&&(popupError.classList.contains("pop-up--show")&&closeModalError(),popupSusses.classList.contains("pop-up--show")&&(popupSusses.classList.remove("pop-up--show"),form.submit(),localStorage.setItem("thisname",thisname.value),localStorage.setItem("surname",surname.value),localStorage.setItem("phone",phone.value),localStorage.setItem("email",email.value)))});